manifest {
  name = 'spatial-pipeline'
}

workDir = "${projectDir}/work"

profiles {
  test {
    params {
      samplesheet = "${projectDir}/samplesheet.csv"
      outdir      = "${projectDir}/outputs/nf"
      sc_h5ad     = "${projectDir}/test_data/single_cell/Cartana_simplified_fixname.h5ad"
    }

    process {
      executor = 'local'
      withName: FILTER_CELLS_BY_TISSUE { cpus = 2; memory = '2 GB' }
      withName: PROCESS_SCRNA        { cpus = 2; memory = '4 GB' }
    }
  }
  general {
    process {
      conda = "${projectDir}/envs/general.yml"
    }
    conda.enabled = true
  }
  system { conda.enabled = false }
}

conda {
  enabled = true
  // Use conda unless mamba is installed
  useMamba = false
}
